<h3 id="about">About</h3>

<p>The <code class="highlighter-rouge">OrinaryLeastSquares</code> regressor in Mahout implements a <em>closed-form</em> solution to <a href="https://en.wikipedia.org/wiki/Ordinary_least_squares">Ordinary Least Squares</a>. 
This is in stark contrast to many “big data machine learning” frameworks which implement a <em>stochastic</em> approach. From the users perspecive this difference can be reduced to:</p>

<ul>
  <li><strong><em>Stochastic</em></strong>- A series of guesses at a line line of best fit.</li>
  <li><strong><em>Closed Form</em></strong>- A mathimatical approach has been explored, the properties of the parameters are well understood, and problems which arise (and the remedial measures), exist.  This is usually the preferred choice of mathematicians/statisticians, but computational limititaions have forced us to resort to SGD.</li>
</ul>

<h3 id="parameters">Parameters</h3>

<div class="table-striped">
  <table class="table">
    <tr>
        <th>Parameter</th>
        <th>Description</th>
        <th>Default Value</th>
     </tr>
     <tr>
        <td><code>'calcCommonStatistics</code></td>
        <td>Calculate commons statistics such as Coeefficient of Determination and Mean Square Error</td>
        <td><code>true</code></td>
     </tr>
     <tr>
        <td><code>'calcStandardErrors</code></td>
        <td>Calculate the standard errors (and subsequent "t-scores" and "p-values") of the \(\boldsymbol{\beta}\) estimates</td>
        <td><code>true</code></td>
     </tr>
     <tr>
        <td><code>'addIntercept</code></td>
        <td>Add an intercept to \(\mathbf{X}\)</td>
        <td><code>true</code></td>
     </tr>                 
  </table>
</div>

<h3 id="example">Example</h3>

<p>In this example we disable the “calculate common statistics” parameters, so our summary will NOT contain the coefficient of determination (R-squared) or Mean Square Error</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">org.apache.mahout.math.algorithms.regression.OrdinaryLeastSquares</span>

<span class="k">val</span> <span class="n">drmData</span> <span class="k">=</span> <span class="n">drmParallelize</span><span class="o">(</span><span class="n">dense</span><span class="o">(</span>
      <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mf">10.5</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mf">29.509541</span><span class="o">),</span>  <span class="c1">// Apple Cinnamon Cheerios
</span>      <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span>   <span class="mi">12</span><span class="o">,</span> <span class="mf">18.042851</span><span class="o">),</span>  <span class="c1">// Cap'n'Crunch
</span>      <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span>   <span class="mi">13</span><span class="o">,</span> <span class="mf">22.736446</span><span class="o">),</span>  <span class="c1">// Cocoa Puffs
</span>      <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span>   <span class="mi">13</span><span class="o">,</span> <span class="mf">32.207582</span><span class="o">),</span>  <span class="c1">// Froot Loops
</span>      <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span>   <span class="mi">11</span><span class="o">,</span> <span class="mf">21.871292</span><span class="o">),</span>  <span class="c1">// Honey Graham Ohs
</span>      <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span>   <span class="mi">8</span><span class="o">,</span>  <span class="mf">36.187559</span><span class="o">),</span>  <span class="c1">// Wheaties Honey Gold
</span>      <span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">17</span><span class="o">,</span>   <span class="mi">1</span><span class="o">,</span>  <span class="mf">50.764999</span><span class="o">),</span>  <span class="c1">// Cheerios
</span>      <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">13</span><span class="o">,</span>   <span class="mi">7</span><span class="o">,</span>  <span class="mf">40.400208</span><span class="o">),</span>  <span class="c1">// Clusters
</span>      <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">13</span><span class="o">,</span>   <span class="mi">4</span><span class="o">,</span>  <span class="mf">45.811716</span><span class="o">)),</span> <span class="n">numPartitions</span> <span class="k">=</span> <span class="mi">2</span><span class="o">)</span>


<span class="k">val</span> <span class="n">drmX</span> <span class="k">=</span> <span class="n">drmData</span><span class="o">(::,</span> <span class="mi">0</span> <span class="n">until</span> <span class="mi">4</span><span class="o">)</span>
<span class="k">val</span> <span class="n">drmY</span> <span class="k">=</span> <span class="n">drmData</span><span class="o">(::,</span> <span class="mi">4</span> <span class="n">until</span> <span class="mi">5</span><span class="o">)</span>

<span class="k">val</span> <span class="n">model</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">OrdinaryLeastSquares</span><span class="o">[</span><span class="kt">Int</span><span class="o">]().</span><span class="n">fit</span><span class="o">(</span><span class="n">drmX</span><span class="o">,</span> <span class="n">drmY</span><span class="o">,</span> <span class="ss">'calcCommonStatistics </span><span class="o">→</span> <span class="kc">false</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="o">)</span>
</code></pre></div></div>
